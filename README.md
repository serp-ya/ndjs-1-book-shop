# Домашнее задание к занятию «2.1 Express»

### Установка и запуск
Для запуска проекта необходимо:
- Склонировать репозиторий
- Установить модули `npm i`
- Добавить файл `.env`
- Определить переменную `APP_PORT` с удобным портом
- Запустить сервер `npm run start:watch`

#### Предисловие
Начиная с данного блока, в домашних работах вы будете разрабатывать приложение «библиотека». С каждым последующим заданием функционал приложения будет расширяться.

#### Задание 1
Создать новый пустой проект и установить в него **express.js**.  


#### Задание 2
Разработать **API CRUD** для работы с сущностью *«книга»*. Каждый экземпляр книги должен содержать следующую структуру данных: 
```javascript
{
  id: "string",
  title: "string",
  description: "string",
  authors: "string",
  favorite: "string",
  fileCover: "string",
  fileName: "string"
}
``` 

#### Решение задания 1
При реализации задачи, я использовал Typescript, поэтому проект содержит типы и commonjs модули заменены на es5.

В проекте вся логика изменения данных вынесена в логический слок - моковую Базу Данных (`db.ts`), которая производит операции изменения БД.

Так же, в проект добавлена модель `Book` и валидация по схеме возможных значений. Это создаёт дополнительный слой безопасности и запись в БД не произойдёт, если клиент нарушил контракты.

В проекте присутствует аллиас ссылки на рутовую директорию, используемый в импортах. Поэтому запись вида `import { Book } from '@/models/book'` на самом деле берёт данные отсюда: `src/models/book`

### методы
метод | url | действие | комментарий
--- | --- | ---  | ---
`POST` | `/api/user/login` | авторизация пользователя | метод всегда возвращает **Code: 201** и статичный объект: `{ id: 1, mail: "test@mail.ru" }`
`GET` | `/api/books` | получить все книги | получаем массив всех книг
`GET` | `/api/books/:id` | получить книгу по **id** | получаем объект книги, если запись не найдено вернем **Code: 404** 
`POST` | `/api/books` | создать книгу | создаем кноги и возврашаем ее же вместе с присвоенным **id**
`PUT` | `/api/books/:id` | редактировать книгу по **id** |  редактируем объект книги, если запись не найдено вернем **Code: 404**
`DELETE` | `/api/books/:id` | удалить книгу по **id** | удаляем книгу и возвращаем ответ: **'ok'**



